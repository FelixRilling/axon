var Axon=function(){"use strict";const n=n=>Array.from(n),t=function(n){const e=[];return n.forEach(n=>{Array.isArray(n)?e.push(...t(n)):e.push(n)}),e},e=n=>void 0!==n,r=function(t,e=document,r=!1){return r?n(e.querySelectorAll(t)):e.querySelector(t)},i=(n,t,e)=>n.setAttribute("x-"+t,e),u=(n,t)=>n.hasAttribute("x-"+t),o=(n,t)=>n.removeAttribute("x-"+t),c=n=>n.name.startsWith("x-"),f=t=>n(t.attributes).filter(c),s=n=>f(n).length>0,a=function(n){return f(n).map(n=>{const t=n.name.replace("x-","").split(":");return{a:n.value,b:t[0],c:t[1]||!1}})},l=function(e,r,i){const u=function(n){return s(n)?new i(n,e,{}):n.children.length>0?o(n.children):null},o=e=>t(n(e).map(u).filter(n=>null!==n));return o(r)},d={get:(n,t)=>t in n.data?n.data[t]:n[t],set:(n,t,e)=>{t in n?n[t]=e:n.data[t]=e;return!0}},h=function(n,t,e){n.addEventListener(t,e,!1)},m=/^[\d\.]+$/,g=/^'\w+'$/,p=function(n,t){return m.test(n)?Number(n):g.test(n)?n.substr(1,n.length-2):"true"===n||"false"!==n&&E(n,t).g},b=function(n,t){const r=t.split(".");let i,u=n,o=0;for(;o<r.length;){const n=r[o];if(i=u[n],e(i)){if(!(o<r.length-1))return{g:i,h:u,i:n};u=i}o++}return!1},v=/\(.*\)/,A=/([\w.]+)\s*\(((?:[^()]*)*)?\s*\)/,x=n=>new Error(`missing prop/method '${n}'`),y=n=>n.g.apply(n.j,n.k),w=function(n){let t=n;for(;null!==t.e;)t=t.e;return t},j=function(n,t,e=!1){if(v.test(n)){const r=S(n,t,e),i=y(r);return{j:r.node,g:i}}return E(n,t,e)},E=function(n,t,e=!1){let r=t;for(;r&&!1!==r.e;){const t=b(r.data,n);if(!1!==t)return t.j=r,t;r=r.e}if(e)return!1;throw x(n)},S=function(n,t,r=!1){const i=n.match(A),u=e(i[2])?i[2].split(","):[],o=w(t),c=b(o.methods,i[1]);if(!1!==c)return c.k=u.map(n=>p(n,t)),c.j=o,c;if(r)return!1;throw x(n)},C=function(n){return e(n.value)?"value":e(n.textContent)?"textContent":"innerHTML"},L=(n,t)=>t?n.removeAttribute("hidden"):n.setAttribute("hidden",!0),k=function(t){n(t.children).forEach(n=>{u(n,"dyn")&&n.remove()})},q=function(n,t){const e=t.d,r=Boolean(j(n.a,t,!0).g);return L(e,r),r},H={model:{l:function(n,t){const e=t.d,r=C(e);return h(e,"input",function(){const i=E(n.a,t);i.h[i.i]=e[r],i.j.render()}),!0},m:function(n,t){const e=t.d,r=C(e),i=E(n.a,t);return e[r]=String(i.g),!0}},bind:{m:function(n,t){return t.d.setAttribute(n.c,j(n.a,t).g),!0}},for:{l:function(n,t){const e=t.d;return i(t.d,"forbase",!0),L(e,!1),!1},m:function(n,t,e){const r=t.d,u=n.a.split(" "),c=u[0],f=E(u[2],t).g,s=[];k(r.parentElement);for(let n of f){const u=r.cloneNode(!0),f=Object.assign({},t.data);let a;i(u,"dyn",!0),o(u,"forbase"),o(u,"for"),L(u,!0),f[c]=n,a=r.insertAdjacentElement("beforebegin",u),s.push(new e(a,t.e,f))}return t.f=s,!0}},text:{m:function(n,t){return t.d.textContent=String(j(n.a,t).g),!0}},html:{m:function(n,t){return t.d.innerHTML=String(j(n.a,t).g),!0}},if:{l:q,m:q},on:{l:function(n,t){return h(t.d,n.c,()=>y(S(n.a,t))),!0}}},M=class{constructor(n=null,t=null,e={},r=!1){const i=new Proxy(this,d);return this.data=e,this.directives=a(n),this.d=n,this.e=t,this.f=l(i,n.children,M),r?[this,i]:i}run(n){const t=t=>{const e=H[t.b];return!e||!e[n]||e[n](t,this,M)};return!!this.directives.map(t).every(n=>!0===n)&&this.f.map(t=>t.run(n))}init(){return this.run("l")}render(){return this.run("m")}};return class extends M{constructor(n={}){const t=super(r(n.el),null,n.data,!0);return t[0].methods=n.methods||{},t[0].init(),t[0].render(),t[1]}}}();