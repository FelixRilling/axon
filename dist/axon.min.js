var Axon=function(){"use strict";var n=20,r="input",t="x-",e="hidden",i="value",o="textContent",u="innerHTML",a=["'",'"',"`"],c=function(n){var r=Array.from(n.attributes),e=[];return r.forEach(function(n){if(n.name.substr(0,t.length)===t){var r=n.name.replace(t,"").split(":");e.push({key:r[0],opt:r[1]||!1,val:n.value})}}),e},f=function(){return!1},l=function(n,r){var t=r.substr(0,r.length-1).split("("),e=t[0],i=t[1].split(",").filter(function(n){return""!==n}).map(function(r){return s(n,r)}),o=n.$methods[e];if("function"==typeof o)return{fn:o,args:i};throw new Error("Method not found: '"+r+"'")},v=function(n){return"undefined"!=typeof n},d=function(n,r){var t=r.split("."),e={val:null,reference:null},i=n.$data,o=void 0;return t.forEach(function(n,u){if(o=i[n],!v("undefined"))throw new Error("Property not found: '"+r+"'");u<t.length-1?i=o:(e.val=o,e.reference=i)}),e},s=function(n,r){if(isNaN(Number(r))){if(a.includes(r.substr(0,1)))return r.substr(1,r.length-2);if(")"===r.substr(r.length-1)){var t=l(n,r);return t.fn.apply(n,t.args)}return d(n,r).val}return Number(r)},h=function(n,r,t){console.log([n,r,t]);var i=s(n,t.val),o=Boolean(i);return o?r.removeAttribute(e):r.setAttribute(e,e),o},p=function(n,r,t){var e=void 0;return function(){var i=this,o=Array.from(arguments),u=t&&!e,a=function(){e=null,t||n.apply(i,o)};clearTimeout(e),e=setTimeout(a,r),u&&n.apply(i,o)}},m=function(n){return v(n[i])?i:v(n[o])?o:u},$=function(r,t,e,i,o){var u=p(e,n),a=m(r),c=function(n){var r=n.target,t=Array.from(i);return t.push(r[a],r,n),u.apply(o,t)};return r.addEventListener(t,c,!1)},g=function(n,r,t){var e=l(n,t.val);return $(r,t.opt,e.fn,e.args,n),!0},y=function(t,e,i){var o=d(t,i.val),u=function(r,e){o.reference[i.val]=e,setTimeout(function(){t.$render()},n)};return $(e,r,u,[o.val],t),!0},b=function(n,r,t){var e=m(r),i=d(n,t.val);return r[e]=i.val,!0},E=function(n,r,t){var e=s(n,t.val);return r.setAttribute(t.opt,e),!0},A={ignore:{init:f,render:f},if:{render:h},on:{init:g},model:{init:y,render:b},bind:{render:E}},x=function(n,r,t){var e=function r(e){var i=e.children,o=e.directives,u=!0;o.length&&e.directives.forEach(function(r){var i=A[r.key];if(i){var o=i[t];if(o){var a=o(n,e.node,r);a||(u=!1)}}}),u&&i.length&&i.forEach(function(n){r(n)})};e(r)},L=function(n,r){var t={},e=function n(t,e){if(e.node=t,e.children=[],r(e,t),t.childElementCount){var i=Array.from(t.children);i.forEach(function(r,t){e.children[t]={},n(r,e.children[t])})}};return e(n,t),t},w=function(){var n=this;n.$cache=L(n.$context,function(n,r){var t=c(r);n.directives=t}),x(n,n.$cache,"init"),console.log("CALLED $init")},C=function(){var n=this;x(n,n.$cache,"render"),console.log("CALLED $render")},N=function(n){var r=this;r.$context=document.querySelector(n.context),r.$data=n.data,r.$methods=n.methods,r.$cache={},r.$init(),r.$render()};return N.prototype={$init:w,$render:C,constructor:N},N}();
//# sourceMappingURL=axon.min.js.map
