var Axon=function(){"use strict";const n=n=>Array.from(n),t=function(n){const e=[];return n.forEach(n=>{Array.isArray(n)?e.push(...t(n)):e.push(n)}),e},e=n=>void 0!==n,r=function(t,e=document,r=!1){return r?n(e.querySelectorAll(t)):e.querySelector(t)},o=(n,t,e)=>n.setAttribute("x-"+t,e),i=(n,t)=>n.hasAttribute("x-"+t),u=(n,t)=>n.removeAttribute("x-"+t),c=n=>n.name.startsWith("x-"),f=t=>n(t.attributes).filter(c),l=n=>f(n).length>0,s=function(n){return f(n).map(n=>{const t=n.name.replace("x-","").split(":");return{_content:n.value,_name:t[0],_opt:t[1]||!1}})},a=function(e,r,o){const i=function(n){return l(n)?new o(n,e,{}):n.children.length>0?u(n.children):null},u=e=>t(n(e).map(i).filter(n=>null!==n));return u(r)},_={get:(n,t)=>t in n.data?n.data[t]:n[t]},d=function(n,t,e){n.addEventListener(t,e,!1)},h=/^[\d\.]+$/,m=/^'\w+'$/,p=function(n,t){return h.test(n)?Number(n):m.test(n)?n.substr(1,n.length-2):"true"===n||"false"!==n&&E(n,t)._val},v=function(n,t){const r=t.split(".");let o,i=n,u=0;for(;u<r.length;){const n=r[u];if(o=i[n],e(o)){if(!(u<r.length-1))return{_val:o,_container:i,_key:n};i=o}u++}return!1},b=/\(.*\)/,y=/([\w\.]+)\s*\(((?:[^()]*)*)?\s*\)/,A=n=>new Error(`missing prop/method '${n}'`),g=n=>n._val.apply(n._node,n._args),x=function(n){let t=n;for(;null!==t._parent;)t=t._parent;return t},w=function(n,t,e=!1){if(b.test(n)){const r=C(n,t,e),o=g(r);return{_node:r.node,_val:o}}return E(n,t,e)},E=function(n,t,e=!1){let r=t;for(;r&&!1!==r._parent;){const t=v(r.data,n);if(!1!==t)return t._node=r,t;r=r._parent}if(e)return!1;throw A(n)},C=function(n,t,r=!1){const o=n.match(y),i=e(o[2])?o[2].split(","):[],u=x(t),c=v(u.methods,o[1]);if(!1!==c)return c._args=i.map(n=>p(n,t)),c._node=u,c;if(r)return!1;throw A(n)},L=function(n){return e(n.value)?"value":e(n.textContent)?"textContent":"innerHTML"},S=(n,t)=>t?n.removeAttribute("hidden"):n.setAttribute("hidden",!0),j=function(t){n(t.children).forEach(n=>{i(n,"dyn")&&n.remove()})},k=function(n,t){const e=t._element,r=Boolean(w(n._content,t,!0)._val);return S(e,r),r},q={model:{init:function(n,t){const e=t._element,r=L(e);return d(e,"input",function(){const o=E(n._content,t);o._container[o._key]=e[r],o._node.render()}),!0},render:function(n,t){const e=t._element,r=L(e),o=E(n._content,t);return e[r]=String(o._val),!0}},bind:{render:function(n,t){return t._element.setAttribute(n._opt,w(n._content,t)._val),!0}},for:{init:function(n,t){const e=t._element;return o(t._element,"forbase",!0),S(e,!1),!1},render:function(n,t,e){const r=t._element,i=n._content.split(" "),c=i[0],f=E(i[2],t)._val,l=[];j(r.parentElement);for(let n of f){const i=r.cloneNode(!0),f=Object.assign({},t.data);let s;o(i,"dyn",!0),u(i,"forbase"),u(i,"for"),S(i,!0),f[c]=n,s=r.insertAdjacentElement("beforebegin",i),l.push(new e(s,t._parent,f))}return t._children=l,!0}},text:{render:function(n,t){return t._element.textContent=w(n._content,t)._val,!0}},html:{render:function(n,t){return t._element.innerHTML=w(n._content,t)._val,!0}},if:{init:k,render:k},on:{init:function(n,t){return d(t._element,n._opt,()=>g(C(n._content,t))),!0}}},H=class{constructor(n=null,t=null,e={}){const r=new Proxy(this,_);return r.data=e,r._element=n,r._parent=t,r._children=a(r,n.children,H),r.directives=s(n),r}run(n){const t=t=>{const e=q[t._name];return!e||!e[n]||e[n](t,this,H)};return!!this.directives.map(t).every(n=>!0===n)&&this._children.map(t=>t.run(n))}init(){return this.run("init")}render(){return this.run("render")}};return class extends H{constructor(n={}){super(r(n.el),null,n.data),this.methods=n.methods||{},this.init(),this.render()}}}();