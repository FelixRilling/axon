var Axon=function(){"use strict";var n=function(n,r){var t={},e=function n(t,e,i){if(i.node=t,i.children=[],r(i,t,e),t.childElementCount){var o=Array.from(t.children);o.forEach(function(r,t){i.children[t]={},n(r,e+1,i.children[t])})}};return e(n,0,t),t},r=20,t="input",e="x-",i="hidden",o="value",u="textContent",a="innerHTML",c=["'",'"',"`"],f=function(n){var r=Array.from(n.attributes),t=[];return r.forEach(function(n){if(n.name.substr(0,e.length)===e){var r=n.name.replace(e,"").split(":");t.push({key:r[0],opt:r[1]||!1,val:n.value})}}),t},l=function(){return!1},v=function(n,r){var t=r.substr(0,r.length-1).split("("),e=t[0],i=t[1].split(",").filter(function(n){return""!==n}).map(function(r){return h(n,r)}),o=n.$methods[e];if("function"==typeof o)return{fn:o,args:i};throw new Error("Method not found: '"+r+"'")},d=function(n){return"undefined"!=typeof n},s=function(n,r){var t=r.split("."),e={val:null,reference:null},i=n.$data,o=void 0;return t.forEach(function(n,u){if(o=i[n],!d("undefined"))throw new Error("Property not found: '"+r+"'");u<t.length-1?i=o:(e.val=o,e.reference=i)}),e},h=function(n,r){if(isNaN(Number(r))){if(c.includes(r.substr(0,1)))return r.substr(1,r.length-2);if(")"===r.substr(r.length-1)){var t=v(n,r);return t.fn.apply(n,t.args)}return s(n,r).val}return Number(r)},p=function(n,r,t){console.log([n,r,t]);var e=h(n,t.val),o=Boolean(e);return o?r.removeAttribute(i):r.setAttribute(i,i),o},m=function(n,r,t){var e=void 0;return function(){var i=this,o=Array.from(arguments),u=t&&!e,a=function(){e=null,t||n.apply(i,o)};clearTimeout(e),e=setTimeout(a,r),u&&n.apply(i,o)}},$=function(n){return d(n[o])?o:d(n[u])?u:a},g=function(n,t,e,i,o){var u=m(e,r),a=$(n),c=function(n){var r=n.target,t=Array.from(i);return t.push(r[a],r,n),u.apply(o,t)};return n.addEventListener(t,c,!1)},y=function(n,r,t){var e=v(n,t.val);return g(r,t.opt,e.fn,e.args,n),!0},b=function(n,e,i){var o=s(n,i.val),u=function(t,e){o.reference[i.val]=e,setTimeout(function(){n.$render()},r)};return g(e,t,u,[o.val],n),!0},E=function(n,r,t){var e=$(r),i=s(n,t.val);return r[e]=i.val,!0},A=function(n,r,t){var e=h(n,t.val);return r.setAttribute(t.opt,e),!0},x={ignore:{init:l,render:l},if:{render:p},on:{init:y},model:{init:b,render:E},bind:{render:A}},L=function(n,r,t){var e=function r(e,i){var o=e.children,u=e.directives,a=!0;u.length&&e.directives.forEach(function(r){var i=x[r.key];if(i){var o=i[t];if(o){var u=o(n,e.node,r);u||(a=!1)}}}),a&&o.length&&o.forEach(function(n){r(n,i+1)})};e(r,0)},w=function(){var r=this;r.$cache=n(r.$context,function(n,r){var t=f(r);n.directives=t}),L(r,r.$cache,"init"),console.log("CALLED $init")},C=function(){var n=this;L(n,n.$cache,"render"),console.log("CALLED $render")},N=function(n){var r=this;r.$context=document.querySelector(n.context),r.$data=n.data,r.$methods=n.methods,r.$cache={},r.$init(),r.$render()};return N.prototype={$init:w,$render:C,constructor:N},N}();
//# sourceMappingURL=axon.min.js.map
