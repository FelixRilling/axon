var Axon=function(){"use strict";const n=function(){return!1},t=["'",'"',"`"],e=function(n,t){const e=t.substr(0,t.length-1).split("("),r=e[0],o=e[1].split(",").filter(n=>""!==n).map(t=>i(n,t)),c=n[r];if("function"==typeof c)return{fn:c,args:o};throw Error(`Missing method '${t}'`)},r=function(n){return void 0!==n},o=function(n,t){const e=t.split("."),o={val:null,ref:null};let i,c=n;return e.forEach((n,u)=>{i=c[n];if(!r(i))throw Error(`Missing prop '${t}'`);u<e.length-1?c=i:(o.val=i,o.ref=c)}),o},i=function(n,r){if(isNaN(+r)){if(t.includes(r.substr(0,1)))return r.substr(1,r.length-2);if(")"===r.substr(r.length-1)){const t=e(n.$methods,r);return t.fn.apply(n,t.args)}return o(n.$data,r).val}return+r},c=function(n,t,e){const r=i(e,t.val),o=!!r;return o?n.removeAttribute("hidden"):n.setAttribute("hidden","hidden"),o},u=function(n,t,e){let r;return function(){const o=this,i=Array.from(arguments),c=e&&!r,u=function(){r=null,e||n.apply(o,i)};clearTimeout(r),r=setTimeout(u,t),c&&n.apply(o,i)}},s=function(n){return r(n.value)?"value":r(n.textContent)?"textContent":"innerHTML"},a=function(n,t,e,r,o){const i=u(e,20),c=s(n),a=function(n){const t=n.target,e=Array.from(r);return e.push(t[c],t,n),i.apply(o,e)};return n.addEventListener(t,a,!1)},f=function(n,t,r){const o=e(r.$methods,t.val);return a(n,t.opt,o.fn,o.args,r),!0},d=function(n,t,e,r){const i=o(e.$data,t.val);return a(n,"input",function(n,e){i.ref[t.val]=e,setTimeout(()=>{r.$render()},20)},[i.val],e),!0},l=function(n,t,e){const r=s(n),i=o(e.$data,t.val);return n[r]=i.val,!0},h=function(n,t,e){const r=i(e,t.val);return n.setAttribute(t.opt,r),!0},m=[{name:"ignore",init:n,render:n},{name:"if",render:c},{name:"on",init:f},{name:"model",init:d,render:l},{name:"bind",render:h}],p=function(n){const t=Array.from(n.attributes),e=[];return t.forEach(n=>{if("x-"===n.name.substr(0,2)){const t=n.name.replace("x-","").split(":");e.push({name:t[0],opt:t[1],val:n.value})}}),e.sort((n,t)=>{const e=m.findIndex(t=>t.name===n.name);const r=m.findIndex(n=>n.name===t.name);return e>=r})},$=function(n){const t=function(n){const e=p(n),o=n.children;if(e.length||o.length){const i=Array.from(o),c={node:n,directives:e,children:[]};return i.forEach(n=>{const e=t(n);r(e)&&c.children.push(e)}),c}};return t(n)},v=function(n,t,e){const r={$data:n.$data,$methods:n.$methods},o={$render:n.$render.bind(n),$init:n.$init.bind(n)},i=function(n,c){const u={current:n,parent:c,entry:t},s=n.children,a=n.directives;let f=!0;a.length&&n.directives.forEach(t=>{const i=m.find(n=>n.name===t.name);if(i){const c=i[e];if(c){const e=c(n.node,t,r,o,u);e||(f=!1)}}}),f&&s.length&&s.forEach(t=>{i(t,n)})};i(t,null)};return class{constructor(n){const t=this;t.$data=n.data,t.$methods=n.methods,t.$context=document.querySelector(n.el),t.$cache=$(t.$context),t.$init(),t.$render()}$init(n){const t=this,e=r(n)?n:t.$cache;v(t,e,"init")}$render(n){const t=this,e=r(n)?n:t.$cache;v(t,e,"render")}}}();