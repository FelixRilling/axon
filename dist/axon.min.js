var Axon=function(){"use strict";const t=t=>Array.from(t),n=t=>Array.isArray(t),e=function(t){const r=[];return t.forEach(t=>{n(t)?r.push(...e(t)):r.push(t)}),r},r=t=>void 0!==t,i=function(n,e=document,r=!1){return r?t(e.querySelectorAll(n)):e.querySelector(n)},o=t=>t.name.startsWith("x-"),u=n=>t(n.attributes).some(o),c=function(n){return t(n.attributes).filter(o).map(t=>{const n=t.name.replace("x-","").split(":");const e=t.value;return{val:e,name:n[0],opt:n[1]||!1}})},s=function(t,n,e){return t.addEventListener(n,e,!1)},l=function(t,n){let e,i=n,o=0;for(;o<t.length;){const n=t[o];if(e=i[n],r(e)){if(!(o<t.length-1))return{val:e,set:t=>i[n]=t};i=e}o++}return!1},a=function(t,n){const e=t.split(".");let r=!1,i=n;for(;!r;){const t=l(e,i.data);if(!1!==t)return t.node=i,t;!1!==i._parent?i=i._parent:r=!0}return!1},f=function(t){return r(t.value)?"value":r(t.textContent)?"textContent":"innerHTML"},h=/([\w\.]+)\s*\(((?:[^()]+)*)?\s*\)\s*/,d=function(t,n){const e=t.match(h),i=e[1].split("."),o=r(e[2])?e[2].split(","):[];console.log({path:i,args:o,node:n});const u=l(i,n._root.methods);return!1!==u&&(u.args=o,u)},v=/\(.*\)/,m=(t,n)=>v.test(t)?d(t,n):a(t,n),p={model:{init:function(t,n){const e=t.val,r=n._element,i=f(r);return s(r,"input",function(){const t=a(e,n),o=r[i];t.set(o),t.node.render()}),!0},render:function(t,n){const e=t.val,r=n._element,i=f(r),o=a(e,n);return r[i]=o.val,!0}},bind:{render:function(t,n){return n._element.setAttribute(t.opt,m(t.val,n).val),!0}},text:{render:function(t,n){return n._element.textContent=m(t.val,n).val,!0}},html:{render:function(t,n){return n._element.innerHTML=m(t.val,n).val,!0}},if:{render:function(t,n){const e=n._element;return m(t.val,n).val?(e.removeAttribute("hidden"),!0):(e.setAttribute("hidden",!0),!1)}},on:{init:function(t,n){return s(n._element,t.opt,d(t.val,n).val),!0}}},_=class{constructor(n,r=null,i=this){const o=this,s=function(t){return u(t)?new _(t,o,i):t.children.length>0?l(t.children):null},l=n=>e(t(n).map(s).filter(t=>null!==t));this.data={},this.directives=c(n),this._element=n,this._parent=r,this._root=i,this._children=l(n.children)}execDirectives(t){return this.directives.map(n=>{const e=p[n.name];return!e||(!e[t]||e[t](n,this))}).every(t=>!1!==t)}execDirectivesRecursive(t){const n=this.execDirectives(t);return n&&this._children.forEach(n=>{n.execDirectives(t)}),n}init(){return this.execDirectivesRecursive("init")}render(){return this.execDirectivesRecursive("render")}};return class extends _{constructor(t){super(i(t.el)),this.data=t.data||{},this.methods=t.methods||{},this.init(),this.render()}}}();