var Axon=function(){"use strict";const n=20,t="input",e="x-",r="hidden",o="value",i="textContent",c="innerHTML",u=["'",'"',"`"],s=function(n){return Array.from(n)},f=function(n){const t=s(n.attributes),r=[];return t.forEach(n=>{if(n.name.substr(0,e.length)===e){const t=n.name.replace(e,"").split(":");r.push({key:t[0],opt:t[1]||!1,val:n.value})}}),r},a=function(n){return"undefined"!=typeof n},l=function(n){const t=function(n){const e=f(n),r=n.children;if(e.length||r.length){let o={node:n,directives:e,children:[]};const i=s(r);return i.forEach(n=>{const e=t(n);a(e)&&o.children.push(e)}),o}};return t(n)},h=function(){return!1},d=function(n,t){const e=t.substr(0,t.length-1).split("("),r=e[0],o=e[1].split(",").filter(n=>""!==n).map(t=>{return v(n,t)}),i=n.$methods[r];if("function"==typeof i)return{fn:i,args:o};throw new Error(`Missing method '${t}'`)},p=function(n,t){const e=t.split("."),r={val:null,ref:null};let o,i=n.$data;return e.forEach((n,c)=>{if(o=i[n],!a(o))throw new Error(`Missing prop '${t}'`);c<e.length-1?i=o:(r.val=o,r.ref=i)}),r},v=function(n,t){if(isNaN(Number(t))){if(u.includes(t.substr(0,1)))return t.substr(1,t.length-2);if(")"===t.substr(t.length-1)){const e=d(n,t);return e.fn.apply(n,e.args)}return p(n,t).val}return Number(t)},m=function(n,t,e){const o=v(n,e.val),i=Boolean(o);return i?t.removeAttribute(r):t.setAttribute(r,r),i},g=function(n,t,e){let r;return function(){const o=this,i=s(arguments),c=e&&!r,u=function(){r=null,e||n.apply(o,i)};clearTimeout(r),r=setTimeout(u,t),c&&n.apply(o,i)}},$=function(n){return a(n[o])?o:a(n[i])?i:c},b=function(t,e,r,o,i){const c=g(r,n),u=$(t),f=function(n){const t=n.target,e=s(o);return e.push(t[u],t,n),c.apply(i,e)};return t.addEventListener(e,f,!1)},y=function(n,t,e){const r=d(n,e.val);return b(t,e.opt,r.fn,r.args,n),!0},E=function(e,r,o){const i=p(e,o.val),c=function(t,r){i.ref[o.val]=r,setTimeout(()=>{e.$render()},n)};return b(r,t,c,[i.val],e),!0},x=function(n,t,e){const r=$(t),o=p(n,e.val);return t[r]=o.val,!0},A=function(n,t,e){const r=v(n,e.val);return t.setAttribute(e.opt,r),!0},w={ignore:{init:h,render:h},if:{render:m},on:{init:y},model:{init:E,render:x},bind:{render:A}},N=function(n,t,e){const r=function(t){const o=t.children,i=t.directives;let c=!0;i.length&&t.directives.forEach(r=>{const o=w[r.key];if(o){const i=o[e];if(i){const e=i(n,t.node,r);e||(c=!1)}}}),c&&o.length&&o.forEach(n=>{r(n)})};r(t)},T=class{constructor(n){const t=this;t.$context=document.querySelector(n.context),t.$data=n.data,t.$methods=n.methods,t.$cache={},t.$init(),t.$render()}$init(){const n=this;n.$cache=l(n.$context),N(n,n.$cache,"init")}$render(){const n=this;N(n,n.$cache,"render")}};return T}();