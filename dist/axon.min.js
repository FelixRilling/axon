var Axon=function(){"use strict";const n=n=>Array.from(n),t=n=>Array.isArray(n),e=function(n){const r=[];return n.forEach(n=>{t(n)?r.push(...e(n)):r.push(n)}),r},r=n=>void 0!==n,i=function(t,e=document,r=!1){return r?n(e.querySelectorAll(t)):e.querySelector(t)},o=n=>n.name.startsWith("x-"),c=t=>n(t.attributes).some(o),u=function(t){return n(t.attributes).filter(o).map(n=>{const t=n.name.replace("x-","").split(":");const e=n.value;return{val:e,name:t[0],secondary:t[1]||!1}})},s=()=>!1,f=function(n,t){let e,i=t,o=0;for(;o<n.length;){const t=n[o];if(e=i[t],r(e)){if(!(o<n.length-1))return{val:e,set:n=>i[t]=n};i=e}o++}return!1},l=function(n,t){const e=n.split("."),r=f(e,t._root.methods);return!1!==r&&(console.log(r),r)},a=function(n,t){const e=n.split(".");let r=!1,i=t;for(console.log([t,e]);!r;){const n=f(e,i.data);if(!1!==n)return n.node=i,n;!1!==i._parent?i=i._parent:r=!0}return!1},h=/\(.*\)/,d=(n,t)=>h.test(n)?l(n,t):a(n,t),v=function(n,t,e){return n.addEventListener(t,e,!1)},m=function(n){return r(n.value)?"value":r(n.textContent)?"textContent":"innerHTML"},p={ignore:{init:s,render:s},if:{render:function(n,t){const e=t._element,r=d(n.val,t),i=Boolean(r);return i?e.removeAttribute("hidden"):e.setAttribute("hidden",!0),i}},on:{init:function(n,t,e){return!0}},model:{init:function(n,t){const e=n.val,r=t._element,i=m(r),o=function(){const n=a(e,t),o=r[i];n.set(o),n.node.render()};return v(t._element,"input",o),!0},render:function(n,t){const e=n.val,r=t._element,i=m(r),o=a(e,t);return r[i]=o.val,!0}},bind:{render:function(n,t,e){return!0}}},_=class{constructor(t,r,i){const o=this,s=function(n){return c(n)?new _(n,o,i):n.children.length>0?f(n.children):null},f=t=>e(n(t).map(s).filter(n=>null!==n));this.data={},this.directives=u(t),this._element=t,this._parent=r,this._root=i,this._children=f(t.children)}execDirectives(n){return this.directives.map(t=>{const e=p[t.name];return e?e[n]?e[n](t,this):(console.log(`directive has no type '${n}'`),!0):(console.log(`directive '${t.name}' not found`),!0)}).every(n=>!1!==n)}execDirectivesRecursive(n){const t=this.execDirectives(n);return t&&this._children.forEach(t=>{t.execDirectives(n)}),t}init(){return this.execDirectivesRecursive("init")}render(){return this.execDirectivesRecursive("render")}};return class extends _{constructor(n){super(i(n.el),!1,!0),this.data=n.data||{},this.methods=n.methods||{},this.init(),this.render()}}}();